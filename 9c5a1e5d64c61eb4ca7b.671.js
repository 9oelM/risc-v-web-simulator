"use strict";(self.webpackChunk_risc_v_web_simulator_app=self.webpackChunk_risc_v_web_simulator_app||[]).push([[671],{671:(e,t,o)=>{o.r(t),o.d(t,{EditorImpure:()=>Z,EditorPure:()=>w});var i=o(903),r=o(784),n=o(529);const a=()=>(0,i.tZ)("div",{children:(0,i.tZ)("p",Object.assign({style:{color:"red"}},{children:"Oops. Something went wrong. Please try again."}),void 0)},void 0);var s=o(511);const c=()=>(0,i.tZ)("div",{children:(0,i.tZ)("p",Object.assign({style:{color:"red"}},{children:"Oops. Something went wrong. Please try again."}),void 0)},void 0);var l=o(605);const d=(0,n.Uu)((({executionOutput:e})=>{const[t,o]=(0,r.useState)(!1),n=(0,r.useRef)(!0),a=(0,r.useRef)(null);return(0,r.useEffect)((()=>{n.current?n.current=!1:(a.current&&window.clearTimeout(a.current),o((e=>!e)),a.current=window.setTimeout((()=>{o(!1)}),1e3))}),[e]),(0,i.tZ)(u,Object.assign({},{executionOutput:e,animate:t}),void 0)}))(c),u=(0,n.Uu)((({executionOutput:e,animate:t})=>{const o=(0,s.a)();return(0,i.tZ)("section",Object.assign({css:{padding:"0 0 0 0.5rem",width:"100%",height:"100%"}},{children:(0,i.BX)(l.mQ,{children:[(0,i.tZ)(l.td,{children:(0,i.tZ)(l.OK,{children:"Latest execution output"},void 0)},void 0),(0,i.tZ)(l.x4,{children:(0,i.tZ)("pre",Object.assign({css:{border:t?"2px solid rgb(61, 225, 61)":`2px solid ${o.background}`,background:o.background,borderRadius:"0.3rem",padding:"0.5rem",overflowY:"scroll",height:"calc(100% - 0.5rem)",width:"calc(100% - 1.5rem)",color:o.text,fontSize:"0.85rem",whiteSpace:"pre-wrap",transition:t?"none":"all 1.5s ease-out"}},{children:null!=e?e:"Execution output will appear here once you run the code."}),void 0)},void 0)]},void 0)}),void 0)}))(c),g=()=>(0,i.tZ)("div",{children:(0,i.tZ)("p",Object.assign({style:{color:"red"}},{children:"Oops. Something went wrong. Please try again."}),void 0)},void 0),b=(0,n.Uu)((({codeState:e,registerState:t,memoryState:o,kiteWasmRequestResult:n,setExecutionOutput:a,RVSSettings:s})=>{const c=null!==n.current&&!(n.current instanceof Error),l=(0,r.useCallback)((()=>{if(!n.current)return;if(n.current instanceof Error)return;console.log(n.current);const{_run_kite_once:i,allocate:r,ALLOC_NORMAL:c,intArrayFromString:l,_free:d,UTF8ToString:u,_get_exception_message:g,_malloc:b,setValue:h}=n.current,{is_debug_on:p,is_data_fwd_on:m,is_br_pred_on:v}=s,x=r(l(e),"i8",c),k=r(l(o),"i8",c),f=r(l(t),"i8",c);console.log(`is_debug_on ${p}`);const O=b(1),S=b(1),Z=b(1);h(O,p,"i8"),h(S,m,"i8"),h(Z,v,"i8");const w=`Latest execution time: ${(new Date).toLocaleString()}`;let y=null,j=null;try{y=i(x,k,f,O,S,Z),console.log(y);const e=u(y);a(`${w}\n${e}`)}catch(e){j=e,y=g(j),a(`${w}\n${u(y)}`)}finally{[x,k,f,O,S,Z].forEach(d),[y,j].forEach((e=>{e&&d(e)}))}}),[e,t,o,s]);return(0,r.useEffect)((()=>{document.addEventListener("keypress",(e=>{console.log(e),"KeyR"===e.code&&e.altKey&&e.ctrlKey&&l()}))}),[l]),(0,i.tZ)(h,Object.assign({},{onClickRunButton:l,isKiteWasmAvailable:c}),void 0)}))(g),h=(0,n.Uu)((({onClickRunButton:e,isKiteWasmAvailable:t})=>{const o=(0,s.a)();return(0,i.tZ)("button",Object.assign({css:{display:"inline-block",borderBottom:"none",bottom:"-1px",position:"absolute",listStyle:"none",padding:"6px 12px",cursor:"pointer",right:0,top:0,height:35,background:o.linkText,color:o.text,borderRadius:"5px",border:`1px solid ${o.buttonBorder}`,marginLeft:"auto",transition:"all 0.3s ease-out","&:hover":{background:o.buttonBgHover}},onClick:e},{children:t?"Run (Ctrl + Alt + R)":"Wait.."}),void 0)}))(g);var p=o(156);const m=()=>{const e=(0,s.a)();return(0,i.BX)("header",Object.assign({css:{height:"2rem",width:"100%",background:e.background,color:e.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},{children:[(0,i.BX)("h1",Object.assign({css:{fontSize:"0.8rem",padding:0,margin:0,display:"inline"}},{children:[(0,i.tZ)("a",Object.assign({css:{color:e.linkText},target:"_blank",href:"https://github.com/9oelM/risc-v-web-simulator",rel:"noreferrer"},{children:"RISC-V Web simulator"}),void 0)," ","/"]}),void 0),(0,i.BX)("p",Object.assign({css:{color:e.text,fontSize:"0.8rem",padding:0,margin:0,display:"inline"}},{children:[" ","Creator:"," ",(0,i.tZ)("a",Object.assign({css:{color:e.linkText},target:"_blank",href:"https://github.com/9oelM",rel:"noreferrer"},{children:"@9oelM"}),void 0)," ","/"," ","Credits:"," ",(0,i.tZ)("a",Object.assign({css:{color:e.linkText},target:"_blank",href:"https://github.com/yonsei-icsl/kite",rel:"noreferrer"},{children:"Kite"}),void 0)," ","by"," ",(0,i.tZ)("a",Object.assign({css:{color:e.linkText},target:"_blank",href:"https://github.com/wjhsong",rel:"noreferrer"},{children:"@wjhsong"}),void 0)," ","/"," ",(0,i.tZ)("a",Object.assign({css:{color:e.linkText,fontSize:"0.8rem",padding:0,margin:0,display:"inline"},target:"_blank",href:"https://github.com/9oelM/risc-v-web-simulator",rel:"noreferrer"},{children:"This project"}),void 0)," ","runs on"," ",(0,i.tZ)("a",Object.assign({css:{color:e.linkText,fontSize:"0.8rem",padding:0,margin:0,display:"inline"},target:"_blank",href:"https://webassembly.org",rel:"noreferrer"},{children:"WebAssembly"}),void 0),"!",(0,i.tZ)("a",Object.assign({css:{fontSize:"0.8rem",top:"6px",left:"5px",position:"relative"},href:"#"},{children:(0,i.tZ)("img",{src:"https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2F9oelm.github.io%2Frisc-v-web-simulator%2F&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false"},void 0)}),void 0)]}),void 0)]}),void 0)};var v=o(768),x=o(140),k=o(170);const f=(0,n.Uu)((({onClickLoadExample:e})=>{const t=(0,r.useCallback)(e("matrixCalculationExample"),[e]),o=(0,r.useCallback)(e("defaultExample"),[e]);return(0,i.tZ)(O,Object.assign({},{onClickLoadMatrixExample:t,onClickLoadDefaultExample:o}),void 0)}))(),O=(0,n.Uu)((({onClickLoadMatrixExample:e,onClickLoadDefaultExample:t})=>{const o=(0,s.a)();return(0,i.BX)("section",Object.assign({css:{background:o.background,color:o.text,padding:"0rem 0.5rem"}},{children:[(0,i.tZ)("p",Object.assign({css:{color:o.warnText,textDecoration:"underline",fontSize:"1rem"}},{children:"Loading an example will overwrite existing code, memory, register states!"}),void 0),(0,i.BX)("article",{children:[(0,i.tZ)("button",Object.assign({css:{borderRadius:"0.5rem",padding:"0.5rem",border:`1px solid ${o.buttonBorder}`,background:o.buttonBg,color:o.buttonText,cursor:"pointer",fontSize:"0.8rem","&:hover":{background:o.buttonBgHover}},onClick:e},{children:"Load"}),void 0),(0,i.BX)("p",Object.assign({css:{display:"inline",fontSize:"0.8rem"}},{children:[" "," Matrix addition & multiplication (C = C + A * B) example"]}),void 0)]},void 0),(0,i.BX)("article",{children:[(0,i.tZ)("button",Object.assign({css:{marginTop:"0.5rem",borderRadius:"0.5rem",padding:"0.5rem",border:`1px solid ${o.buttonBorder}`,background:o.buttonBg,color:o.buttonText,cursor:"pointer",fontSize:"0.8rem","&:hover":{background:o.buttonBgHover}},onClick:t},{children:"Load"}),void 0),(0,i.BX)("p",Object.assign({css:{display:"inline",fontSize:"0.8rem"}},{children:[" "," Default example"]}),void 0)]},void 0)]}),void 0)}))();const S=r.lazy((()=>o.e(220).then(o.bind(o,220)).then((({SettingsPanelImpure:e})=>({default:e}))))),Z=(0,n.Uu)((e=>{var{setRegisterState:t,setCodeState:o,setMemoryState:n}=e,a=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(o[i[r]]=e[i[r]])}return o}(e,["setRegisterState","setCodeState","setMemoryState"]);const s=(0,r.useCallback)((({target:e})=>{t(e.value)}),[t]),c=(0,r.useCallback)((({target:e})=>{o(e.value)}),[t]),l=(0,r.useCallback)((({target:e})=>{n(e.value)}),[t]),[d,u]=(0,p.l)(0),g=(0,r.useCallback)((e=>()=>{t(k.a.examples[e].reg_state),o(k.a.examples[e].program_code),n(k.a.examples[e].memory_state),u(0)}),[t,o,n,u]),[b,h]=(0,p.l)(null);return(0,i.tZ)(w,Object.assign({},Object.assign(Object.assign({},a),{onCodeStateChange:c,onMemoryStateChange:l,onRegisterStateChange:s,onClickLoadExample:g,executionOutput:b,setExecutionOutput:h,tabIndex:d,onSelectTabIndex:u})),void 0)}))(a),w=(0,n.Uu)((({codeState:e,registerState:t,memoryState:o,onCodeStateChange:n,onMemoryStateChange:a,onRegisterStateChange:c,kiteWasmRequestResult:u,executionOutput:g,setExecutionOutput:h,RVSSettings:p,setRVSSettings:k,onClickLoadExample:O,onSelectTabIndex:Z,tabIndex:w})=>{const y=(0,s.a)();return(0,i.BX)("main",Object.assign({css:{display:"flex",flexDirection:"column",width:"100%",height:"100%",background:y.background}},{children:[(0,i.tZ)(b,Object.assign({},{codeState:e,registerState:t,memoryState:o,setExecutionOutput:h,kiteWasmRequestResult:u,RVSSettings:p}),void 0),(0,i.tZ)(m,{},void 0),(0,i.BX)("div",Object.assign({css:{display:"flex",width:"100%",height:"calc(100% - 2rem)",background:y.background,"@media (max-width: 710px)":{flexDirection:"column"}}},{children:[(0,i.tZ)("section",Object.assign({css:{display:"flex",width:"55%",height:"100%",background:y.background,"@media (max-width: 710px)":{width:"100%",height:"65%"}}},{children:(0,i.BX)(l.mQ,Object.assign({selectedIndex:w,onSelect:Z},{children:[(0,i.BX)(l.td,{children:[(0,i.tZ)(l.OK,{children:"Code"},void 0),(0,i.tZ)(l.OK,{children:"Memory"},void 0),(0,i.tZ)(l.OK,{children:"Register"},void 0),(0,i.tZ)(l.OK,{children:"Settings"},void 0),(0,i.tZ)(l.OK,{children:"Examples"},void 0)]},void 0),(0,i.tZ)(l.x4,{children:(0,i.tZ)("textarea",{value:e,onChange:n,spellCheck:!1,css:{overflowY:"scroll",height:"calc(100% - 1.5rem)",padding:"0.5rem",width:"calc(100% - 0.5rem)",background:y.background,color:y.text}},void 0)},void 0),(0,i.tZ)(l.x4,{children:(0,i.tZ)("textarea",{value:o,onChange:a,spellCheck:!1,css:{overflowY:"scroll",height:"calc(100% - 1.5rem)",padding:"0.5rem",width:"calc(100% - 0.5rem)",background:y.background,color:y.text}},void 0)},void 0),(0,i.tZ)(l.x4,{children:(0,i.tZ)("textarea",{value:t,onChange:c,spellCheck:!1,css:{overflowY:"scroll",height:"calc(100% - 1.5rem)",padding:"0.5rem",width:"calc(100% - 0.5rem)",background:y.background,color:y.text}},void 0)},void 0),(0,i.tZ)(l.x4,{children:(0,i.tZ)(v.SV,Object.assign({Fallback:(0,i.tZ)("div",Object.assign({css:{color:"red"}},{children:"Settings failed to load."}),void 0)},{children:(0,i.tZ)(r.Suspense,Object.assign({fallback:(0,i.tZ)(x.k,{},void 0)},{children:(0,i.tZ)(S,Object.assign({},{RVSSettings:p,setRVSSettings:k}),void 0)}),void 0)}),void 0)},void 0),(0,i.tZ)(l.x4,{children:(0,i.tZ)(v.SV,Object.assign({Fallback:(0,i.tZ)("div",Object.assign({css:{color:"red"}},{children:"Examples failed to load."}),void 0)},{children:(0,i.tZ)(r.Suspense,Object.assign({fallback:(0,i.tZ)(x.k,{},void 0)},{children:(0,i.tZ)(f,Object.assign({},{onClickLoadExample:O}),void 0)}),void 0)}),void 0)},void 0)]}),void 0)}),void 0),(0,i.tZ)("section",Object.assign({css:{display:"flex",width:"45%",height:"calc(100% - 2rem)",background:y.background,borderLeft:`1px solid ${y.buttonBorder}`,"@media (max-width: 710px)":{position:"absolute",bottom:0,left:0,width:"100%",height:"30%",borderLeft:"none",paddingTop:"0.5rem",borderTop:`1px solid ${y.buttonBorder}`}}},{children:(0,i.tZ)(d,Object.assign({},{executionOutput:g}),void 0)}),void 0)]}),void 0)]}),void 0)}))(a)}}]);